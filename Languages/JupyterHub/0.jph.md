---
layout: default
title: JupyterHub
nav_order: 99
has_children: true
parent: Languages
permalink: /Languages/JupyterHub
last_modified_date: 2024-09-16 14:30:21
tags: operation_systems
---

# JupyterHub

## Table of contents

{: .no_toc .text-delta }

1. TOC
{:toc}

---

- [Zero to JupyterHub with Kubernetes](https://z2jh.jupyter.org/en/stable/kubernetes/minikube/step-zero-minikube.html)

```bash
curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube_latest_amd64.deb
sudo dpkg -i minikube_latest_amd64.deb
minikube start
# kubectl installation
curl -LO "https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl"
sudo install -o root -g root -m 0755 kubectl /usr/local/bin/kubectl
kubectl get po -A
NAMESPACE     NAME                               READY   STATUS    RESTARTS        AGE
kube-system   coredns-6f6b679f8f-kl7zc           1/1     Running   0               7m52s
kube-system   etcd-minikube                      1/1     Running   0               7m57s
kube-system   kube-apiserver-minikube            1/1     Running   0               7m57s
kube-system   kube-controller-manager-minikube   1/1     Running   0               7m58s
kube-system   kube-proxy-rwxlw                   1/1     Running   0               7m52s
kube-system   kube-scheduler-minikube            1/1     Running   0               7m57s
kube-system   storage-provisioner                1/1     Running   1 (7m21s ago)   7m56s
```

### Post-installation checklist

helm upgrade --cleanup-on-fail   --install "release-1" jupyterhub/jupyterhub   --namespace "minikube-m02"   --create-namespace   --version=3.3.8   --values config.yaml

  - Verify that created Pods enter a Running state:

    ```bash
      kubectl --namespace=minikube-m02 get pod
    ```

    If a pod is stuck with a Pending or ContainerCreating status, diagnose with:

      kubectl --namespace=minikube-m02 describe pod <name of pod>

    If a pod keeps restarting, diagnose with:

      kubectl --namespace=minikube-m02 logs --previous <name of pod>

  - Verify an external IP is provided for the k8s Service proxy-public.

      kubectl --namespace=minikube-m02 get service proxy-public

    If the external ip remains <pending>, diagnose with:

      kubectl --namespace=minikube-m02 describe service proxy-public

  - Verify web based access:

    You have not configured a k8s Ingress resource so you need to access the k8s
    Service proxy-public directly.

    If your computer is outside the k8s cluster, you can port-forward traffic to
    the k8s Service proxy-public with kubectl to access it from your
    computer.

      kubectl --namespace=minikube-m02 port-forward service/proxy-public 8080:http

    Try insecure HTTP access: http://localhost:8080
(base)


```bash
helm upgrade --cleanup-on-fail "release-1"  \
   jupyterhub/jupyterhub \
  --namespace "minikube-m02"  \
  --version=3.3.8\
  --values config.yaml
```